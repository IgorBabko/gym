{"version":3,"sources":["app.coffee"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["$ ->\n\n    $('.Nav__item--hamburger').click ->\n        $('.Nav__list').toggle()\n        $('.search__input').focus().select()\n\n    $(window).keyup (e) ->\n        if window.innerWidth <= 768 and e.keyCode == 27\n            $('.Nav__list').toggle()\n\n    $('.Search__input').focus ->\n        $(this).addClass 'Search__input--expanded'\n\n    $('.Search__input').blur ->\n        $(this).removeClass 'Search__input--expanded'\n\n    isScreenLarge = window.innerWidth > 768 ? true : false\n    $(window).resize ->\n\n        if window.innerWidth > 768 and !isScreenLarge\n            $('.Nav__list').css('display', 'flex')\n            isScreenLarge = true\n\n        if window.innerWidth <= 768 and isScreenLarge\n            $('.Nav__list').css('display', 'none')\n            isScreenLarge = false\n\n    $('.Nav__item').click (e) ->\n        if $(this).data('type')?\n            $modal = if $(this).data('type') == 'login' then $('.Modal--login') else $('.Modal--register')\n            setTimeout ( ->\n                $modal.find('.Form input').first().select()\n            ), 100\n            $modal.addClass 'Modal--visible'\n\n    $('.Modal__overlay').click ->\n        $('.Modal').removeClass 'Modal--visible'\n\n    # show flash message in alert\n    flashMessage = $('#ohsnap').data('notify')\n    if flashMessage? then ohSnap(flashMessage, {color: 'green'})\n\n    $('.Modal .Form').submit (e) ->\n        e.preventDefault()\n\n        $this = $(this)\n\n        if $this.closest('.Modal').hasClass('Modal--register')\n            url = '/register'\n        else\n            url = '/login'\n\n        request = $.ajax\n            url: url\n            method: \"POST\"\n            data: $this.serialize()\n\n        request.done (response) ->\n            $('.Nav__item--modal').remove()\n            $('.Nav__list').append '<li class=\"Nav__item\"><a href=\"/profile\" class=\"Nav__link\"><span>My profile</span></a></li>'\n            $('.Nav__list').append '<li class=\"Nav__item\"><a href=\"/logout\" class=\"Nav__link\"><span>Logout</span></a></li>'\n            ohSnap response.message, color: 'green'\n            $('.Modal__overlay').trigger 'click'\n\n        request.fail (response) ->\n            ohSnap response.responseJSON.message ? 'Please, fix valid errors', color: 'red'\n            updateValidErrors $this, response.responseJSON\n\n    updateValidErrors = ($form, validErrors) ->\n        $form.find('input').each (index, input) ->\n            $input = $(input)\n            fieldName = $input.attr('name')\n            $errorBlock = $input.next('.Error')\n            $errorMsg = if validErrors[fieldName] then validErrors[fieldName][0] else ''\n            $errorBlock.text($errorMsg)\n\n    $('.bxslider').bxSlider\n        auto: true\n        pause: 5000\n        mode: 'fade'\n        autocontrols: true\n        controls: false\n        speed: 1500\n#        onSliderLoad: () ->\n            #console.log 'first'\n#            console.log $('.Slider__info:first-child')\n#        onSlideBefore: ($el) ->\n#            $el.find('.Slider__info').removeClass('opaque')\n#        onSlideAfter: ($el) ->\n#            $el.find('.Slider__info').addClass('opaque')\n\n    return\n\n"],"sourceRoot":"/source/"}