{"version":3,"sources":["app.coffee"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["$ ->\n\n    $('.Nav__item--hamburger').click ->\n        $('.Nav__list').toggle()\n        $('.search__input').focus().select()\n\n    $(window).keyup (e) ->\n        if window.innerWidth <= 768 and e.keyCode == 27\n            $('.Nav__list').toggle()\n\n    $('.Search__input').focus ->\n        $(this).addClass 'Search__input--expanded'\n\n    $('.Search__input').blur ->\n        $(this).removeClass 'Search__input--expanded'\n\n    isScreenLarge = window.innerWidth > 768 ? true : false\n    $(window).resize ->\n\n        if window.innerWidth > 768 and !isScreenLarge\n            $('.Nav__list').css('display', 'flex')\n            isScreenLarge = true\n\n        if window.innerWidth <= 768 and isScreenLarge\n            $('.Nav__list').css('display', 'none')\n            isScreenLarge = false\n\n    $('.Nav__item').click (e) ->\n        if $(this).data('type')?\n            $modal = if $(this).data('type') == 'login' then $('.Modal--login') else $('.Modal--register')\n            setTimeout ( ->\n                $modal.find('.Form input').first().select()\n            ), 100\n            $modal.addClass 'Modal--visible'\n\n    $('.Modal__overlay').click ->\n        $('.Modal').removeClass 'Modal--visible'\n\n    # show flash message in alert\n    flashMessage = $('#ohsnap').data('notify')\n    if flashMessage? then ohSnap(flashMessage, {color: 'green'})\n\n    updateValidErrors = ($form, validErrors) ->\n        $form.find('input').each (index, input) ->\n            $input = $(input)\n            fieldName = $input.attr('name')\n            $errorBlock = $input.next('.Error')\n            $errorMsg = if validErrors[fieldName] then validErrors[fieldName][0] else ''\n            $errorBlock.text($errorMsg)\n\n    $('.bxslider').bxSlider\n        auto: true\n        pause: 5000\n        mode: 'fade'\n        autocontrols: true\n        controls: false\n        speed: 1500\n#        onSliderLoad: () ->\n            #console.log 'first'\n#            console.log $('.Slider__info:first-child')\n#        onSlideBefore: ($el) ->\n#            $el.find('.Slider__info').removeClass('opaque')\n#        onSlideAfter: ($el) ->\n#            $el.find('.Slider__info').addClass('opaque')\n\n    controller = new ScrollMagic.Controller()\n    new ScrollMagic.Scene\n            triggerElement: '.Form--question'\n            triggerHook: '0.1'\n            duration: '100%'\n        .setPin '.Form--question'\n        .addTo controller\n\n    $('.sectio--parallax').parallax imageSrc: '/img/parallax.jpg'\n\n    # ajax requests for metrics\n    $('.Form').submit (e) ->\n        e.preventDefault()\n\n        $this = $(this)\n\n        request = $.ajax\n            url: $this.attr 'action'\n            method: 'POST'\n            data: $this.serialize()\n\n        request.done (response) ->\n            if $this.closest('.Modal').length != 0\n                $('.Nav__item--modal').remove()\n                $('.Nav__list').append '<li class=\"Nav__item\"><a href=\"/profile\" class=\"Nav__link\"><span>My profile</span></a></li>'\n                $('.Nav__list').append '<li class=\"Nav__item\"><a href=\"/logout\" class=\"Nav__link\"><span>Logout</span></a></li>'\n                ohSnap response.message, color: 'green'\n                $('.Modal__overlay').trigger 'click'\n            else\n                updateValidErrors $this, {}\n                messages = response.notifyMessage\n                messages = [messages] if typeof messages is 'string'\n                \n                console.log messages\n                for message in messages\n                    ohSnap message, color: 'green'\n\n                $this.next().html response.message\n                $('html, body').animate scrollTop: $('.Block').position().top , 'slow'\n\n        request.fail (response) ->\n            ohSnap response.responseJSON.message ? 'Please, fix valid errors', color: 'red'\n            updateValidErrors $this, response.responseJSON\n\n    return\n"],"sourceRoot":"/source/"}